(()=>{"use strict";class e{constructor(e,t,s){this.content=e,this.postTolocalStorage=t,this.localStorageStatus=0,this.getlocalStorageStatus(),this.message=s,this.checkContent()}checkContent(){this.message&&(this.content=`\n            <div class="modal__dialog">\n                <div class="modal__content">\n                    <div class="modal__close">&times;</div>\n                    <div class="modal__title">${this.message}</div>\n                    </div>\n                </div>\n            </div>\n            `)}getlocalStorageStatus(){this.postTolocalStorage&&(localStorage.getItem("localStorageStatus")?this.localStorageStatus=+localStorage.getItem("localStorageStatus"):localStorage.setItem("localStorageStatus",0))}addModaltoHtml(){const e=document.querySelector("footer"),t=document.createElement("div");t.classList.add("modal"),t.innerHTML=this.content,e.after(t),this.show()}addModaltoHtmlStorageStatus(){this.getlocalStorageStatus(),this.localStorageStatus||(this.addModaltoHtml(),localStorage.setItem("localStorageStatus",1))}hide(){const e=document.querySelector(".modal");e.classList.add("hide"),e.classList.remove("show")}show(){const e=document.querySelector(".modal");e.classList.add("show"),e.classList.remove("hide")}deletModalFromHTML(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&document.querySelector(".modal form")||document.querySelector(".modal")&&(localStorage.setItem("modalCurentShowedStatus","notShowed"),document.querySelector(".modal").remove())}}document.addEventListener("DOMContentLoaded",(()=>{var t;(function(){let e,t,s,a,i="famail",o=1.375;function n(e){document.querySelectorAll(e).forEach((e=>{e.classList.remove("calculating__choose-item_active"),e.id===i&&e.classList.add("calculating__choose-item_active"),e.getAttribute("data-ratio")==o&&e.classList.add("calculating__choose-item_active")}))}function l(){a=e&&t&&s?"famail"===i?Math.round(o*(447.6+9.2*s+3.1*e-4.3*t)):Math.round(o*(88.36+13.4*s+4.8*e-5.7*t)):"_____",document.querySelector(".calculating__result span").innerHTML=a}function r(a){const n=document.querySelectorAll(a);".calculating__choose_medium input"===a?n.forEach((a=>{a.addEventListener("input",(()=>{switch(a.value.match(/\D/g)?a.style.border="1px red solid":a.style.border="none",a.id){case"height":e=+a.value;break;case"weight":s=+a.value;break;case"age":t=+a.value}l()}))})):".calculating__choose_big div"!==a&&"#gender div"!==a||n.forEach((e=>{e.addEventListener("click",(()=>{switch(document.querySelectorAll(a).forEach((e=>{e.classList.remove("calculating__choose-item_active")})),e.classList.add("calculating__choose-item_active"),e.id){case"famail":i="famail";break;case"mail":i="mail";break;case"low":o=1.2;break;case"small":o=1.375;break;case"medium":o=1.55;break;case"high":o=1.725}localStorage.setItem("gender",i),localStorage.setItem("rate",o),l()}))}))}localStorage.getItem("gender")?i=localStorage.getItem("gender"):localStorage.setItem("gender","famail"),localStorage.getItem("rate")?o=localStorage.getItem("rate"):localStorage.setItem("rate",1.375),n("#gender div"),n(".calculating__choose_big div"),l(),r(".calculating__choose_medium input"),r(".calculating__choose_big div"),r("#gender div")})(),function(){const e={menu:[{img:"img/tabs/vegy.jpg",altimg:"vegy",title:"Menu 'Fitness'",descr:"The 'Fitness' menu is a new approach to cooking: more fresh vegetables and fruits. Product of active and healthy people. This is a brand new product with the best price and high quality!",price:20},{img:"img/tabs/post.jpg",altimg:"post",title:"Menu 'Lenten'",descr:"The 'Lenten' menu is a careful selection of ingredients: no animal products, milk from almonds, oats, coconut or buckwheat, the right amount of protein from tofu and imported vegetarian steaks.",price:25},{img:"img/tabs/elite.jpg",altimg:"elite",title:"Menu 'Premium'",descr:"In the 'Premium' menu, we use not only beautiful packaging design, but also high-quality execution of dishes. Red fish, seafood, fruits - a restaurant menu without going to a restaurant!",price:40}],requests:[]},t=document.querySelector(".menu__field .container");class s{constructor(e,t,s,a,i,o){this.img=e,this.alt=t,this.h3=s,this.content=a,this.price=i,this.wraper=o}render(){const e=document.createElement("div");e.classList.add("menu__item"),e.innerHTML=`\n                <img src=${this.img} alt=${this.alt}>\n                <h3 class="menu__item-subtitle">${this.h3}</h3>\n                <div class="menu__item-descr">${this.content}</div>\n                <div class="menu__item-divider"></div>\n                <div class="menu__item-price">\n                    <div class="menu__item-cost">Цена:</div>\n                    <div class="menu__item-total"><span>${this.price}</span> usd/day</div>\n                </div>\n            `,this.wraper.append(e)}}!function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";"fetch"===a?(t.innerHTML="",fetch("http://localhost:3000/menu").then((e=>e.json())).then((e=>{e.forEach((e=>{new s(e.img,e.altimg,e.title,e.descr,e.price,t).render()}))}))):"local"===a&&(t.innerHTML="",e.menu.forEach((e=>{new s(e.img,e.altimg,e.title,e.descr,e.price,t).render()})))}("local")}(),document.addEventListener("click",(t=>{if(t.target&&"Call me back"===t.target.innerHTML){const s=[];t.target.parentElement.querySelectorAll("input").forEach((e=>{s.push(e.value),""===e.value&&(e.style.border="1px red solid")})),s.includes("")||(t.preventDefault(),function(t){const s=document.createElement("img");s.classList.add("status__mesage"),s.src="img/form/spinner.svg",t.insertAdjacentElement("afterend",s);const a=new FormData(t);(async function(e,t){const s=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:t});return await s.json()})(0,JSON.stringify(Object.fromEntries(a.entries()))).then((t=>{document.querySelector(".modal")&&document.querySelector(".modal").remove();const s=new e("",!1,"Request completed successfully");s.addModaltoHtml(),setTimeout((()=>{s.deletModalFromHTML("check")}),3e3)})).catch((()=>{document.querySelector(".modal")&&document.querySelector(".modal").remove();const t=new e("",!1,"Something went wrong");t.addModaltoHtml(),setTimeout((()=>{t.deletModalFromHTML("check")}),3e3)})).finally((()=>{s.remove(),t.reset()}))}(t.target.parentElement))}})),function(){const t=document.querySelectorAll("[data-modal]");document.querySelector(".modal").remove();const s=new e('\n    <div class="modal__dialog">\n        <div class="modal__content">\n            <form action="#">\n                <div class="modal__close">&times;</div>\n                <div class="modal__title">We will contact you as soon as possible!</div>\n                <input required placeholder="Your name" name="name" type="text" class="modal__input">\n                <input required placeholder="Your phone number" name="phone" type="phone" class="modal__input">\n                <button class="btn btn_dark btn_min">Call me back</button>\n            </form>\n        </div>\n    </div>\n',!0);setTimeout((()=>{s.addModaltoHtmlStorageStatus()}),5e3),t.forEach((e=>{e.addEventListener("click",(()=>{s.addModaltoHtml()}))})),document.body.addEventListener("click",(e=>{(e.target&&e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&s.deletModalFromHTML()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelector(".modal")&&s.deletModalFromHTML()})),window.addEventListener("scroll",(function e(){const t=document.documentElement.scrollTop||document.body.scrollTop;(document.documentElement.scrollHeight||document.body.scrollHeight)-t<=window.innerHeight&&(s.addModaltoHtmlStorageStatus(),window.removeEventListener("scroll",e))}))}(),function(){const e=new class{constructor(){this.sliderWrapper=document.querySelector(".offer__slider-wrapper"),this.sliders=document.querySelectorAll(".offer__slide"),this.width=0,this.translateX=0,this.currentSlideNumber=1,this.slidesQuantity=0,this.addClassToSliders(),this.getWidth(),this.getslidesQuantity(),this.mintranslateX=-this.slidesQuantity*this.width,this.setSlider(),this.addDots()}addClassToSliders(){const e=document.querySelectorAll(".offer__slider .offer__slider-counter img");e[0].classList.add("left_scroll_img"),e[1].classList.add("right_scroll_img"),this.sliderWrapper.classList.add("offer__slider-wrapper_js"),this.sliders.forEach((e=>{e.classList.add("offer__slide_js")}))}getWidth(){this.width=this.sliderWrapper.getBoundingClientRect().width}getslidesQuantity(){this.slidesQuantity=this.sliders.length}setSlider(){this.sliders.forEach((e=>{e.style.transform=`translateX(${this.translateX}px)`})),this.currentSlideNumber<10?document.querySelector("#current").innerHTML=`0${this.currentSlideNumber}`:document.querySelector("#current").innerHTML=`${this.currentSlideNumber}`,this.slidesQuantity<10?document.querySelector("#total").innerHTML=`0${this.slidesQuantity}`:document.querySelector("#total").innerHTML=`${this.slidesQuantity}`,document.querySelectorAll(".dot").forEach((e=>{e.classList.remove("active-dot"),+e.dataset.dot==this.currentSlideNumber-1&&e.classList.add("active-dot")}))}addDots(){const e=document.createElement("div");e.classList.add("carousel-indicators");for(let t=0;t<this.slidesQuantity;t++)e.innerHTML+=0===t?`\n                    <span class="dot active-dot" data-dot=${t}></span>\n                `:`\n                    <span class="dot" data-dot=${t}></span>\n                `;this.sliderWrapper.append(e),document.querySelectorAll(".dot").forEach((e=>{e.addEventListener("click",(e=>{document.querySelectorAll(".dot").forEach(((t,s)=>{e.target===t&&(this.translateX=-s*this.width,this.currentSlideNumber=s+1,this.setSlider())}))}))}))}srollRight(){this.currentSlideNumber===this.slidesQuantity?this.currentSlideNumber=1:this.currentSlideNumber++,this.translateX>this.mintranslateX&&(this.translateX-=this.width),this.translateX===this.mintranslateX&&(this.translateX=0,this.currentSlideNumber=1),this.setSlider()}scrollLeft(){1===this.currentSlideNumber?this.currentSlideNumber=this.slidesQuantity:this.currentSlideNumber--,0===this.translateX&&(this.translateX=this.width*this.slidesQuantity*-1),this.translateX+=this.width,this.setSlider()}};document.addEventListener("click",(t=>{t.target&&(t.target.classList.contains("offer__slider-prev")||t.target.classList.contains("left_scroll_img"))&&e.scrollLeft()})),document.addEventListener("click",(t=>{t.target&&(t.target.classList.contains("offer__slider-next")||t.target.classList.contains("right_scroll_img"))&&e.srollRight()}))}(),function(){const e=document.querySelector(".tabheader__items"),t=document.querySelectorAll(".tabheader__item"),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0===e?document.querySelectorAll(".tabcontent").forEach(((e,t)=>{e.classList.add("hide"),0===t&&e.classList.remove("hide")})):document.querySelectorAll(".tabcontent").forEach(((t,s)=>{t.classList.contains("hide")||t.classList.add("hide"),s===e&&(t.classList.remove("hide"),t.classList.contains("faidIn")||t.classList.add("faidIn"))}))};e.addEventListener("click",(e=>{var a;let i;e.target&&!e.target.classList.contains("tabheader__item_active")&&(a="tabheader__item_active",document.querySelectorAll(".tabheader__item").forEach((e=>{e.classList.contains(a)&&e.classList.remove(a)})),e.target.classList.add("tabheader__item_active")),t.forEach(((e,t)=>{e.classList.contains("tabheader__item_active")&&(i=t)})),s(i)})),s(0)}(),t="2023-06-11",function(){const e=document.querySelector("#days"),s=document.querySelector("#hours"),a=document.querySelector("#minutes"),i=document.querySelector("#seconds");function o(e){return e<10?`0${e}`:e}const n=function(e){let t,s,a,i;const n=Date.parse(e)-new Date;return n<=0?(t=0,s=0,a=0,i=0):(t=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5),a=Math.floor(n%864e5%36e5/6e4),i=Math.floor(n%864e5%36e5%6e4/1e3)),{total:n,days:o(t),hours:o(s),minutes:o(a),seconds:o(i)}};!function(){const o=n(t);e.innerHTML=o.days,s.innerHTML=o.hours,a.innerHTML=o.minutes,i.innerHTML=o.seconds}();const l=setInterval((function(){const o=n(t);o.total<=0&&clearInterval(l),e.innerHTML=o.days,s.innerHTML=o.hours,a.innerHTML=o.minutes,i.innerHTML=o.seconds}),1e3)}()}))})();
//# sourceMappingURL=bundle.js.map